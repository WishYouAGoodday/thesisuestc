\chapter{全文总结与展望}
至此，本文完成了循环神经网络加速系统的相关技术，系统流程，软硬件功能划分及实现，系统测试等全部工作的介绍。接下来，本章将在5.1节对本文的工作
进行总结并阐释本文工作的创新性，在5.2节将分析本文工作存在的问题，并对后续研究进行展望。
\section{全文总结}
在循环神经网络广泛应用的背景下，本文针对一类普遍存在的应用场景需求---动态调节速度和精度，设计并实现了循环神经加速系统。该系统将网络的压缩过程
和前向传播过程有机结合，实现了在系统运行过程中根据环境的需求生成特定尺寸的网络模型参数并进行前向传播的系统运行效果，达成了动态调节
循环神经网络预测精度和速度的目的。

首先，本文在分析压缩过程和网络前向传播过程特性的基础上进行了系统架构设计，从系统各功能模块的算法特征，系统时间占比以及实现成本等方面综合考虑
完成了系统的软硬件划分，其中压缩过程和系统控制交由软件实现，网络前向传播和状态采样则交由硬件实现。

其次，为了使系统在异常状态环境中仍能正常发挥预测功能，本文提出了基于预置投影矩阵的模型压缩流程和基于状态采样的模型压缩流程，分别用于普通环境
和异常状态环境。完善的应用环境设计使得系统具备了对环境的鲁棒性。

然后，为了降低网络前向传播过程的延迟，本文设计了针对循环神经网络前向传播过程的专用加速器。相比于传统加速器的一种硬件结构唯一对应
一种网络模型，本文所设计的加速器能够运行两种网络模型并且能调节网络的尺寸，具备一定的通用性。加速器的设计充分考虑了硬件资源的约束，采用了模块
共享和分时复用的技术。同时加速器也在不同的层面进行了并行化设计，依次为树形向量乘法，堆叠PE的计算单元，以及网络层的流水线并行。

接着，本文对硬件加速器中激活函数模块进行了优化。通过对比不同的激活函数硬件实现方式的资源消耗以及精度损失，本文最终采用了分段三次函数
近似的激活函数实现方法，在抽象出其基本运算单元后，本文设计了相应的激活函数硬件电路结构。
%为了系统高效的运转，本文依据各功能模块的算法特性，系统时间占比以及实现成本进行了软硬件划分

最后，本文基于FPGA实现了循环神经网络加速系统，并对系统功能的完整性以及加速器的性能进行了测试。实验结果表明本文所设计的系统具备动态调节精度和速度的
能力，能够胜任不同类型的任务。系统的资源消耗合理，在以不超过主要功能单元---简化网络结构资源消耗的20\%的条件下实现了其他的系统功能。系统的运行
功耗较低，可以应用于多数低功耗场景。系统具有较高的能量转换效率，在严格能量约束的条件下能高效的完成数据运算功能。

\section{后续工作展望}
本文仅从系统的有效性及可行性角度出发设计并实现了循环神经网络加速系统，距离系统真正的实际应用还存在一些改进空间。例如，本文系统仅对循环神经网络的前向传播
过程进行了硬件加速，而压缩过程则采用软件的实现方式，尽管这样的软硬件分工可以使得系统高效的运转，但是却存在压缩过程耗时较长等缺陷，这使得
系统的动态调节能力不具备实时性这一重要特征。针对实时性问题，可能存在的解决方案包括设计专门用于加速网络压缩过程的硬件加速器和使用高速异构硬件平台如高速CPU，GPU等。
此外，本文的研究是为动态调节网络精度速度场景而设计的，其系统设计流程和框架具备通用性，但是本文仅以循环神经网络作为研究对象，因为其具有低成本的
网络模型压缩算法，其他的模型压缩算法往往由于成本过高，现阶段无法实现，这就对开发低成本，无数据集的压缩算法提出了迫切的需求。
